{% extends "base.html" %}
{% block content %}
<section class="two-columns">
  <div>
    <h2>{{ salle.nom }}</h2>
    <p><strong>Capacité :</strong> {{ salle.capacite or '—' }}</p>
    <p><strong>Équipements :</strong> {{ salle.equipements or '—' }}</p>

    <h3>Séances planifiées</h3>
    {% if cours %}
      <ul class="sessions">
        {% for session in cours %}
          <li>
            {{ session.date.strftime('%d/%m/%Y') }} — {{ session.debut.strftime('%H:%M') }} → {{ session.fin.strftime('%H:%M') }} :
            {{ session.matiere.nom if session.matiere else 'Cours' }}
            {% if session.enseignant %}avec {{ session.enseignant.nom }}{% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>Aucune séance planifiée pour le moment.</p>
    {% endif %}
  </div>
  <div>
    <h3>Modifier</h3>
    <form method="post" class="panel">
      <label for="nom">Nom</label>
      <input type="text" name="nom" id="nom" value="{{ salle.nom }}" required>

      <label for="capacite">Capacité</label>
      <input type="number" name="capacite" id="capacite" value="{{ salle.capacite }}" min="0">

      <label for="equipements">Équipements</label>
      <textarea name="equipements" id="equipements">{{ salle.equipements }}</textarea>

      <button type="submit">Enregistrer</button>
    </form>
  </div>
</section>
<section>
  <h3>Calendrier de {{ salle.nom }}</h3>
  {% include "partials/calendar.html" with context %}
</section>
{% endblock %}
